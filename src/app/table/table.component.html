<button type="button" class="btn btn-primary" (click)="openAddModal()">Add product</button>


<table class="table table-striped table-hover table-bordered">
    <caption>List of users</caption>
    <thead class="sticky-top">
        <tr>
            <th *ngFor="let column of columnData">{{column}}</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let product of productsData">
            <td>{{product.title}}</td>
            <td>{{product.brand}}</td>
            <td>{{product.category}}</td>
            <td>{{product.price | currency:'INR'}}</td>
            <td>{{product.discountPercentage}}</td>
            <td>
                <a href="#" class="actionBtn btn btn-primary btn-sm" (click)="viewProduct(product.id)">
                    View
                </a>
                <a href="#" class="actionBtn btn btn-primary btn-sm" (click)="viewUpdateModal(product)">
                    Update
                </a>
                <a href="#" class="actionBtn btn btn-danger btn-sm" (click)="deleteProduct(product)">
                    Delete
                </a>
            </td>
        </tr>
    </tbody>
</table>



    
 <!-- View Product Template  Start-->
  <!-- Modal -->
  <div class="modal fade" id="viewProductModal" tabindex="-1" aria-labelledby="viewProductModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="viewProductModalLabel">Product Details</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form>
            <div class="mb-3">
              <label for="productId" class="form-label">ID</label>
              <input type="text" class="form-control" id="productId" value="{{selectedProductId}}" disabled>
            </div>
            <div class="mb-3">
              <label for="productName" class="form-label">Name</label>
              <input type="text" class="form-control" id="productName" value="{{selectedProductName}}" disabled>
            </div>
            <div class="mb-3">
              <label for="productBrand" class="form-label">Brand</label>
              <input type="text" class="form-control" id="productBrand" value="{{selectedProductBrand}}" disabled>
            </div>
            <div class="mb-3">
                <label for="price" class="form-label">Product Price</label>
                <input type="text" class="form-control" id="price" value="{{selectedProductPrice}}" disabled>
              </div>
            <div class="mb-3">
                <label for="discount" class="form-label">Discount</label>
                <input type="text" class="form-control" id="discount" value="{{selectedProductDiscount}}" disabled>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
  <!-- View Product Template END -->


<!-- Update Product Template Start -->
<div class="modal" id="updateProductModal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Update Product Form</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form #updateForm="ngForm" (ngSubmit)="updateProduct(updateForm)">
            <div class="mb-3">
                <label for="pId" class="form-label">Id</label>
                <input type="text" class="form-control" id="pId" name="id" [(ngModel)]="updateFormData.id" required>
              </div>
            <div class="mb-3">
              <label for="name" class="form-label">Name</label>
              <input type="text" class="form-control" id="name" name="title" [(ngModel)]="updateFormData.title" required>
            </div>
            <div class="mb-3">
              <label for="category" class="form-label">Category</label>
              <input type="email" class="form-control" id="category" name="category" [(ngModel)]="updateFormData.category" required>
            </div>
            <div class="mb-3">
                <label for="brand" class="form-label">Brand</label>
                <input type="email" class="form-control" id="brand" name="brand" [(ngModel)]="updateFormData.brand" required>
            </div>
            <div class="mb-3">
                <label for="price" class="form-label">Price</label>
                <input type="email" class="form-control" id="price" name="price" [(ngModel)]="updateFormData.price" required>
            </div>
            <button type="submit" class="btn btn-primary">Update</button>
          </form>
        </div>
      </div>
    </div>
  </div>

<!-- Update Product Template End -->

<!-- Add Product Modal Start -->
<div class="modal" id="addProductModal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Add Product Form</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form #addForm="ngForm" (ngSubmit)="addProduct(addForm)">
           <div class="mb-3">
              <label for="name" class="form-label">Name</label>
              <input type="text" class="form-control" id="name" name="title" [(ngModel)]="addFormData.title" required>
            </div>
            <div class="mb-3">
              <label for="category" class="form-label">Category</label>
              <input type="email" class="form-control" id="category" name="category" [(ngModel)]="addFormData.category" required>
            </div>
            <div class="mb-3">
                <label for="brand" class="form-label">Brand</label>
                <input type="email" class="form-control" id="brand" name="brand" [(ngModel)]="addFormData.brand" required>
            </div>
            <div class="mb-3">
                <label for="price" class="form-label">Price</label>
                <input type="email" class="form-control" id="price" name="price" [(ngModel)]="addFormData.price" required>
            </div>
            <div class="mb-3">
                <label for="discount" class="form-label">Discount</label>
                <input type="email" class="form-control" id="discount" name="discountPercentage" [(ngModel)]="addFormData.discountPercentage" required>
            </div>
            <button type="submit" class="btn btn-primary">Add</button>
          </form>
        </div>
      </div>
    </div>
  </div>

<!-- Add Product Modal End -->

  <!-- Toast Message for Deletion and Creation -->
  <app-toast></app-toast>
  
 